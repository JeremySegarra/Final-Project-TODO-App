var us=Object.defineProperty,_s=Object.defineProperties;var ps=Object.getOwnPropertyDescriptors;var is=Object.getOwnPropertySymbols;var hs=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable;var as=(e,t,o)=>t in e?us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,A=(e,t)=>{for(var o in t||(t={}))hs.call(t,o)&&as(e,o,t[o]);if(is)for(var o of is(t))fs.call(t,o)&&as(e,o,t[o]);return e},Q=(e,t)=>_s(e,ps(t));import{o as c,c as u,p as L,a as N,b as s,d as $,e as v,r as M,A as gs,P as ms,N as vs,f as E,w as b,g as j,h as m,u as l,S as ys,F as P,i as bs,j as G,t as w,k as y,l as I,v as V,m as $s,n as f,q as ws,s as ls,R,x as Ss,y as rs,z as B,B as F,C as T,D as K,E as ks,G as Is,T as Ts,H as Vs,I as Us,J as xs}from"./vendor.aad6fded.js";const Ls=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};Ls();var S=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o};const Ns={},Cs=e=>(L("data-v-2e14fdd1"),e=e(),N(),e),Ms={class:"footer"},Fs=Cs(()=>s("div",{class:"content has-text-centered"},[s("p",null,[s("strong",null,"Wellness"),$(" by Jeremy Segarra.")])],-1)),qs=[Fs];function Es(e,t){return c(),u("footer",Ms,qs)}var Ps=S(Ns,[["render",Es],["__scopeId","data-v-2e14fdd1"]]),Rs="/assets/wellness-logo.png";const Ds=["src"],Os=v({setup(e){const t=["/assets/thomas-bormans-pcpsVsyFp_s-unsplash.jpg","/assets/kelly-sikkema-6aY-6B3MiZ4-unsplash.jpg","/assets/brett-jordan-MwkDKpOQmGc-unsplash.jpg","/assets/fabian-blank-pElSkGRA2NU-unsplash.jpg","/assets/krakenimages-376KN_ISplE-unsplash.jpg","/assets/kelly-sikkema-6aY-6B3MiZ4-unsplash.jpg","/assets/towfiqu-barbhuiya-0ITvgXAU5Oo-unsplash.jpg","/assets/towfiqu-barbhuiya-jpqyfK7GB4w-unsplash.jpg"],o=M([gs,ms,vs]);return(i,n)=>(c(),E(l(bs),{spaceBetween:30,centeredSlides:!0,loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:l(o),class:"mySwiper"},{default:b(()=>[(c(),u(P,null,j(t,a=>m(l(ys),{key:a},{default:b(()=>[s("img",{src:a},null,8,Ds)]),_:2},1024)),64))]),_:1},8,["modules"]))}});function As(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}const ts="http://localhost:3001/api/";async function X(e){return fetch(ts+e).then(t=>t.json())}function ss(e,t,o,i){let n={headers:i};return console.log("Im inside my fetch modulerAPI, and the body is",t),console.log("The url is",e),t&&(n={method:o!=null?o:"POST",cache:"no-cache",credentials:"same-origin",headers:A({"Content-Type":"application/json"},i),body:JSON.stringify(t)}),fetch(ts+e,n).then(a=>a.json())}async function Bs(e,t){const o=await fetch(ts+e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!o.ok){const n=await o.json();throw console.log("this is the data in MyFetch",n),n}return await o.json()}const J=G("friends",{state:()=>({friendsList:[],allUsers:[],pendingRequests:[]}),actions:{async addFriend(e){const o=x().session.user;if(!o)throw new Error("You must be logged in to add friends");const i=JSON.parse(JSON.stringify(this.pendingRequests[e]));try{const n=await ss(`friends/add_friend/${o._id}`,i,"POST");console.log("This is the response to add a new user",n),this.pendingRequests.splice(e,1),console.log("This is the current state locally pending requests",this.pendingRequests),this.friendsList.push(i),console.log("This is the current state locally friends list",this.friendsList)}catch(n){console.log("This is the error for the add friend",n)}},async removePendingRequest(e,t){const i=x().session.user;let n;if(!i)throw new Error("You must be logged in to add friends");t==="friend-list"?(n=JSON.parse(JSON.stringify(this.friendsList[e])),this.friendsList.splice(e,1)):(n=JSON.parse(JSON.stringify(this.pendingRequests[e])),this.pendingRequests.splice(e,1)),console.log("This is the user to be removed",n),console.log("This is the user without parseing",this.friendsList[e]);try{const a=await ss(`friends/deny_request/${i._id}`,Q(A({},n),{currentTab:t}),"PATCH");console.log("This is the response to remove a pending request or friend",a)}catch(a){console.log("This is the error for the remove pending request or friend",a)}},async friendRequest(e){const o=x().session.user;if(!o)throw new Error("You must be logged in to send requests");const i=JSON.parse(JSON.stringify(this.allUsers[e]));console.log("We click addFriend button and find the user in the list by id, Then we send the that id to the api, to then add the body of the request to that users pending request list ",i);try{const n=await Bs(`friends/friend_request/${i._id}`,{username:o.username,email:o.email,pic:o.pic});console.log("Im in the try catch here is the response, ",n.data)}catch(n){console.log("this is the error in the try catch",n)}},async fetchAll(){this.allUsers=(await X("users")).data},async fetchFriends(){const e=x();if(!e.session.user)throw new Error("You must be logged in to fetch friends");const t=(await X(`friends/${e.session.user._id}`)).data;this.friendsList=t.friendsList},async fetchPendingRequests(){const e=x();if(!e.session.user)throw new Error("You must be logged in to fetch friends");const t=(await X(`friends/${e.session.user._id}`)).data;this.pendingRequests=t.pendingRequests}}}),H=G("user",{state:()=>({date:As(),friendsStore:J(),sessionStore:x(),list:[]}),actions:{randomNumberGenerator(){return Math.floor(Math.random()*30)+1},async editUser(e){const t=this.sessionStore.session.user;if(!t)throw new Error("User not logged in");console.log("edit user",e);const o=await this.sessionStore.api("users/edit-user",e,"PATCH");t.firstName=e.firstName,t.lastName=e.lastName,t.email=e.userName,console.log("This is the edit response",o)},async addToDo(e){const t=this.sessionStore.session.user;if(!t)throw new Error("User not logged in");const o={message:e};await this.sessionStore.api("messages",o,"POST"),t.myMessages.push(o)},deleteToDo(e){const t=this.sessionStore.session.user;if(!t)throw new Error("User not logged in");const i={message:t.myMessages[e].message,currentTab:"my-list"};console.log("this is the payload in the client",i),this.sessionStore.api("messages/delete-message",i,"DELETE"),t.myMessages.splice(e,1)},async setNewUser(e,t,o,i,n){const a={firstName:e,lastName:t,username:o,email:i,password:n,pic:`https://randomuser.me/api/portraits/men/${this.randomNumberGenerator()}.jpg`,recievedMessages:[],myMessages:[],sentMessages:[],pendingRequests:[],friendsList:[]},d=await fetch("http://localhost:3001/api/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!d.ok)throw console.log("this is in the not ok"),await d.json()},async deleteMessage(e,t,o){const i=this.sessionStore.session.user;let n;if(!i)throw new Error("You are not logged in");switch(t){case"my-list":n=i.myMessages.splice(e,1);break;case"recieved":n=i.recievedMessages.splice(e,1);break;default:n=i.sentMessages.splice(e,1)}const a=Q(A({},n[0]),{currentTab:t});console.log("This is the payload: ",a);const d=await this.sessionStore.api("messages/delete-message",a,"DELETE");console.log("This is the delete message: ",d)},async sendMessage(e,t){const o=this.sessionStore.session.user;if(!o)throw new Error("You are not logged in");const i=JSON.parse(JSON.stringify(o.friendsList[e])),n={message:t,reciever:i.username,sender:o.username,date:this.date};o.sentMessages.push(A({},n));const a=await this.sessionStore.api("messages/send",n,"POST");console.log("This is the sent message response",a)}}}),js={class:"panel-block is-active"},Js=s("span",{class:"panel-icon"},[s("i",{class:"fas fa-book","aria-hidden":"true"})],-1),Hs=v({props:["todo"],setup(e){const t=e;return console.log("Im the prop todo",t.todo),(o,i)=>(c(),u("div",{onClick:i[0]||(i[0]=n=>o.$emit("delete"))},[s("a",js,[Js,$(" "+w(t.todo),1)])]))}}),Ys={class:"section"},Ks={class:"panel is-info"},Gs=s("p",{class:"panel-heading"},"Reminders",-1),zs={class:"panel-block"},Ws={class:"control has-icons-left"},Zs=["onKeydown"],Qs=s("span",{class:"icon is-left"},[s("i",{class:"fa-solid fa-clipboard-check"})],-1),Xs=v({setup(e){const t=y(""),o=y(""),i=H(),n=i.sessionStore.session.user;if(!n)throw new Error("No user found in session");const a=n.myMessages;function d(){i.addToDo(o.value),k()}function r(g){i.deleteToDo(g)}function k(){t.value="",o.value=""}return(g,_)=>(c(),u("div",Ys,[s("article",Ks,[Gs,s("div",zs,[s("p",Ws,[I(s("input",{class:"input is-info",type:"text",placeholder:"New ToDo","onUpdate:modelValue":_[0]||(_[0]=p=>o.value=p),onKeydown:$s(d,["enter"])},null,40,Zs),[[V,o.value]]),Qs])]),(c(!0),u(P,null,j(l(a),(p,h)=>(c(),E(Hs,{key:h,todo:p.message,onDelete:C=>r(h)},null,8,["todo","onDelete"]))),128))])]))}});const se={class:"container"},ee=v({setup(e){return(t,o)=>(c(),u("div",se,[m(Os),m(Xs)]))}});var te=S(ee,[["__scopeId","data-v-35cccece"]]);const z=e=>(L("data-v-17c03253"),e=e(),N(),e),oe={class:"field"},ne=z(()=>s("p",null,[s("strong",null,"Username")],-1)),ie={class:"control has-icons-left has-icons-right"},ae=z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-envelope"})],-1)),le={key:0,style:{color:"red"}},re={class:"field"},ce=z(()=>s("p",null,[s("strong",null,"Password")],-1)),de={class:"control has-icons-left has-icons-right"},ue=["type"],_e=z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1)),pe=["onClick"],he={key:0,class:"fa-solid fa-eye-slash eye"},fe={key:1,class:"fa-solid fa-eye"},ge={key:0,style:{color:"red"}},me=v({setup(e){const t=x(),o=y(""),i=y(""),n=y(!1),a=M({type:!1,message:""}),d=M({type:!1,message:""});function r(){t.Login(o.value,i.value).then(()=>{a.type=!1,d.type=!1,J().fetchPendingRequests(),q.push("/home")}).catch(_=>{_.message==="User not found please re-enter username"?(a.type=!0,d.type=!1,a.message=_.message):(a.type=!1,d.type=!0,d.message=_.message)})}function k(){console.log(n.value),n.value=!n.value}function g(_){_.preventDefault()}return(_,p)=>(c(),u(P,null,[s("div",oe,[ne,s("p",ie,[I(s("input",{class:"input",type:"email",placeholder:"Type your username","onUpdate:modelValue":p[0]||(p[0]=h=>o.value=h)},null,512),[[V,o.value]]),ae]),l(a).type?(c(),u("p",le,w(l(a).message),1)):f("",!0)]),s("div",re,[ce,s("p",de,[I(s("input",{class:"input",type:n.value?"test":"password",placeholder:"Type your password","onUpdate:modelValue":p[1]||(p[1]=h=>i.value=h)},null,8,ue),[[ws,i.value]]),_e,s("span",{class:"icon is-small is-right",style:{cursor:"pointer"},onClick:ls(k,["prevent"]),onMousedown:g,"aria-hidden":"true"},[n.value?(c(),u("i",he)):(c(),u("i",fe))],40,pe)]),l(d).type?(c(),u("p",ge,w(l(d).message),1)):f("",!0)]),s("div",{class:"field"},[s("div",{class:"section"},[s("p",{class:"control"},[s("button",{class:"button is-info is-fullwidth is-rounded login-brand",onClick:r}," Login ")])])])],64))}});var ve=S(me,[["__scopeId","data-v-17c03253"]]);const ye=e=>(L("data-v-f42e9fb6"),e=e(),N(),e),be=Ss('<div class="section" data-v-f42e9fb6><p data-v-f42e9fb6><strong data-v-f42e9fb6>Sign In Using</strong></p><button class="button google-brand brand" data-v-f42e9fb6><i class="fa-brands fa-google" data-v-f42e9fb6></i></button><button class="button twitter-brand brand" data-v-f42e9fb6><i class="fa-brands fa-twitter" data-v-f42e9fb6></i></button><button class="button facebook-brand brand" data-v-f42e9fb6><i class="fa-brands fa-facebook" data-v-f42e9fb6></i></button></div>',1),$e={class:"field"},we={class:"section"},Se=ye(()=>s("p",null,[s("strong",null,"Or Sign Up Using")],-1)),ke=$("Sign Up"),Ie=v({setup(e){return(t,o)=>(c(),u(P,null,[be,s("div",$e,[s("div",we,[Se,m(l(R),{to:"/signup",class:"button signup-brand is-rounded is-info"},{default:b(()=>[ke]),_:1})])])],64))}});var Te=S(Ie,[["__scopeId","data-v-f42e9fb6"]]);const Ve={},Ue={class:"section"},xe={class:"title"};function Le(e,t){return c(),u("div",Ue,[s("h1",xe,[rs(e.$slots,"default",{},void 0,!0)])])}var os=S(Ve,[["render",Le],["__scopeId","data-v-2cdc62be"]]);const Ne=e=>(L("data-v-be07b48c"),e=e(),N(),e),Ce={class:"columns is-mobile"},Me={class:"column is-four-fifths is-offset-1"},Fe=$("Login"),qe=Ne(()=>s("p",null,[s("strong",null,"Note To Professor:"),$(" to easily log in without creating an account use Donald2. "),s("strong",null,"Username:"),$(" Donald2, "),s("strong",null,"Password:"),$(" Qq1!1111 ")],-1)),Ee=v({setup(e){return(t,o)=>{const i=B("Card");return c(),u("div",Ce,[s("div",Me,[m(os,null,{default:b(()=>[Fe]),_:1}),qe,m(i,null,{default:b(()=>[m(ve),m(Te)]),_:1})])])}}});var Pe=S(Ee,[["__scopeId","data-v-be07b48c"]]);const U=e=>(L("data-v-07af1cfe"),e=e(),N(),e),Re=["onSubmit"],De={class:"field"},Oe=U(()=>s("label",{class:"label"},"First Name",-1)),Ae={class:"control has-icons-left has-icons-right"},Be=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-user"})],-1)),je={key:0,class:"help is-danger"},Je={class:"field"},He=U(()=>s("label",{class:"label"},"Last Name",-1)),Ye={class:"control has-icons-left has-icons-right"},Ke=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-user"})],-1)),Ge={key:0,class:"help is-danger"},ze={class:"field"},We=U(()=>s("label",{class:"label"},"Username",-1)),Ze={class:"control has-icons-left has-icons-right"},Qe=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-user"})],-1)),Xe={key:0,class:"help is-danger"},st={class:"field"},et=U(()=>s("label",{class:"label"},"Email",-1)),tt={class:"control has-icons-left has-icons-right"},ot=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-envelope"})],-1)),nt={key:0,class:"help is-danger"},it={class:"field"},at=U(()=>s("label",{class:"label"},"Password",-1)),lt={class:"control has-icons-left"},rt=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1)),ct={key:0,class:"help is-danger"},dt=$(" Password must contain "),ut=U(()=>s("br",null,null,-1)),_t={key:0},pt={key:1},ht={key:2},ft={key:3},gt={key:4},mt={class:"field"},vt=U(()=>s("label",{class:"label"},"Verify Password",-1)),yt={class:"control has-icons-left"},bt=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1)),$t={key:0,class:"help is-danger"},wt={class:"field is-grouped-centered is-horizontal"},St=U(()=>s("p",{class:"control"},[s("button",{class:"button is-info",type:"submit"},"Submit")],-1)),kt={class:"control"},It=$(" Cancel "),Tt=v({setup(e){const t=H(),o=y(!1),i=M({value:"",isValid:!0}),n=M({value:"",isValid:!0}),a=M({name:"",isValid:!0,isTaken:!1,error:"Username field cannot be empty "}),d=M({value:"",isValid:!0}),r=M({value:"",verify:"",passwordIsValid:!0,verifyIsValid:!0,whitespace:!1,length:!1,uppercase:!1,lowercase:!1,symbol:!1,digit:!1});F(()=>i.value,()=>{i.isValid=i.value!==""}),F(()=>n.value,()=>{n.isValid=n.value!==""}),F(()=>a.name,()=>{a.isValid=a.name!=="",a.error="Username field cannot be empty "}),F(()=>d.value,()=>{const _=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;d.isValid=d.value!==""||_.test(d.value),d.isValid=_.test(d.value)}),F(()=>r.value,()=>{const _=/(?=.*[A-Z])/,p=/^(?=.*[a-z])/,h=/^(?=.*[0-9])/,C=/^.{8,16}$/,Y=/^(?=.*[~!@#$%^&*()--+={}\[\]|\\:;<>,.?/_â‚¹])/;r.passwordIsValid=r.value==="",r.digit=h.test(r.value),r.uppercase=_.test(r.value),r.lowercase=p.test(r.value),r.length=C.test(r.value),r.symbol=Y.test(r.value),r.passwordIsValid=r.digit&&r.length&&r.lowercase&&r.uppercase&&r.symbol}),F(()=>r.verify,()=>{r.verifyIsValid=r.verify!==""&&r.value===r.verify});function k(){o.value=i.value!==""&&n.value!==""&&a.name!==""&&d.value!==""&&r.value!==""}function g(){if(k(),o.value===!1){i.isValid=!1,n.isValid=!1,a.isValid=!1,d.isValid=!1,r.passwordIsValid=!1,r.verifyIsValid=!1;return}if(r.verify===""){r.verifyIsValid=!1;return}console.log(i.value,n.value,a.name,d.value,r.value),t.setNewUser(i.value,n.value,a.name,d.value,r.value).then(()=>{q.push("/")}).catch(_=>{console.log("Im inside the catch block of the signup form",_.errors[0]),_.errors[0].type==="username"&&(console.log("Im inside the username error"),a.isTaken=!0,a.error=_.errors[0].message,a.isValid=!1)})}return(_,p)=>(c(),u("form",{onSubmit:ls(g,["prevent"])},[s("div",De,[Oe,s("div",Ae,[I(s("input",{class:T(["input",l(i).isValid?"is-info":"is-danger"]),type:"text",placeholder:"first name","onUpdate:modelValue":p[0]||(p[0]=h=>l(i).value=h)},null,2),[[V,l(i).value,void 0,{trim:!0}]]),Be]),l(i).isValid?f("",!0):(c(),u("p",je," First name field cannot be empty "))]),s("div",Je,[He,s("div",Ye,[I(s("input",{class:T(["input",l(n).isValid?"is-info":"is-danger"]),type:"text",placeholder:"last name","onUpdate:modelValue":p[1]||(p[1]=h=>l(n).value=h)},null,2),[[V,l(n).value,void 0,{trim:!0}]]),Ke]),l(n).isValid?f("",!0):(c(),u("p",Ge," Last name field cannot be empty "))]),s("div",ze,[We,s("div",Ze,[I(s("input",{class:T(["input",l(a).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Enter a username","onUpdate:modelValue":p[2]||(p[2]=h=>l(a).name=h)},null,2),[[V,l(a).name,void 0,{trim:!0}]]),Qe]),l(a).isValid?f("",!0):(c(),u("p",Xe,w(l(a).error),1))]),s("div",st,[et,s("div",tt,[I(s("input",{class:T(["input",l(d).isValid?"is-info":"is-danger"]),type:"email",placeholder:"Enter your email","onUpdate:modelValue":p[3]||(p[3]=h=>l(d).value=h)},null,2),[[V,l(d).value,void 0,{trim:!0}]]),ot]),l(d).isValid?f("",!0):(c(),u("p",nt," Please enter a valid email "))]),s("div",it,[at,s("div",lt,[I(s("input",{class:T(["input",l(r).passwordIsValid?"is-info":"is-danger"]),type:"password",placeholder:"Password",autocomplete:"new-password","onUpdate:modelValue":p[4]||(p[4]=h=>l(r).value=h)},null,2),[[V,l(r).value,void 0,{trim:!0}]]),rt]),l(r).passwordIsValid?f("",!0):(c(),u("p",ct,[dt,ut,s("ul",null,[l(r).length?f("",!0):(c(),u("li",_t,"8 to 16 characters")),l(r).uppercase?f("",!0):(c(),u("li",pt,"at least 1 uppercase character")),l(r).lowercase?f("",!0):(c(),u("li",ht,"at least 1 lowercase character")),l(r).symbol?f("",!0):(c(),u("li",ft,"at least 1 symbol")),l(r).digit?f("",!0):(c(),u("li",gt,"at least 1 number"))])]))]),s("div",mt,[vt,s("div",yt,[I(s("input",{class:T(["input",l(r).verifyIsValid?"is-info":"is-danger"]),type:"password",placeholder:"Password",autocomplete:"new-password","onUpdate:modelValue":p[5]||(p[5]=h=>l(r).verify=h)},null,2),[[V,l(r).verify,void 0,{trim:!0}]]),bt]),l(r).verifyIsValid?f("",!0):(c(),u("p",$t," Password does not match"))]),s("div",wt,[St,s("p",kt,[m(l(R),{class:"button is-light",to:"/"},{default:b(()=>[It]),_:1})])])],40,Re))}});var Vt=S(Tt,[["__scopeId","data-v-07af1cfe"]]);const Ut={class:"columns is-mobile"},xt={class:"column is-half is-offset-one-quarter"},Lt=$("Sign Up"),Nt=v({setup(e){return(t,o)=>{const i=B("Card");return c(),u("div",Ut,[s("div",xt,[m(os,null,{default:b(()=>[Lt]),_:1}),m(i,null,{default:b(()=>[m(Vt)]),_:1})])])}}});var Ct=S(Nt,[["__scopeId","data-v-4e76a110"]]);const W=e=>(L("data-v-d7f5f642"),e=e(),N(),e),Mt={class:"message-header"},Ft=W(()=>s("strong",null,"Sent By:",-1)),qt=W(()=>s("br",null,null,-1)),Et=W(()=>s("strong",null,"Date:",-1)),Pt=W(()=>s("i",{class:"fa-solid fa-reply"},null,-1)),Rt=$(" Reply "),Dt=[Pt,Rt],Ot={class:"message-body"},At=v({props:["message","list","index"],setup(e){const t=e,o=H(),i=y(!1);function n(){o.deleteMessage(t.index,t.list,t.message)}function a(){console.log("Im in reply message"),q.push("/friendslist")}return(d,r)=>(c(),u("article",{class:T(["message",i.value?"is-primary":"is-info"])},[s("div",Mt,[s("p",null,[Ft,$(" "+w(t.message.sender)+" ",1),qt,Et,$(" "+w(t.message.date),1)]),t.list==="recieved"?(c(),u("label",{key:0,onClick:a,class:"checkbox"},Dt)):f("",!0),s("button",{class:"delete","aria-label":"delete",onClick:n})]),s("div",Ot,w(t.message.message),1)],2))}});var Bt=S(At,[["__scopeId","data-v-d7f5f642"]]);const jt={class:"tabs is-toggle is-fullwidth is-small"},Jt=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-inbox","aria-hidden":"true"})]),s("span",null,"Recieved")],-1),Ht=[Jt],Yt=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-share","aria-hidden":"true"})]),s("span",null,"Sent")],-1),Kt=[Yt],Gt={class:"columns is-mobile"},zt={class:"column is-four-fifths is-offset-1"},Wt=v({setup(e){const o=x().session.user;if(!o)throw new Error("No user found");const i=o.sentMessages,n=o.recievedMessages,a=y("recieved"),d=K(()=>{switch(a.value){case"recieved":return n;case"sent":return i}});function r(k){a.value=k}return(k,g)=>(c(),u("section",null,[s("div",jt,[s("ul",null,[s("li",{onClick:g[0]||(g[0]=_=>r("recieved")),class:T({"is-active":a.value==="recieved"})},Ht,2),s("li",{onClick:g[1]||(g[1]=_=>r("sent")),class:T({"is-active":a.value==="sent"})},Kt,2)])]),s("div",Gt,[s("div",zt,[(c(!0),u(P,null,j(l(d),(_,p)=>(c(),E(Bt,{key:_,index:p,message:_,list:a.value},null,8,["index","message","list"]))),128))])])]))}}),cs=G("budget",{state:()=>({budget:0,list:[],sessionStore:x()}),actions:{async createBudget(){const e=this.sessionStore.session.user;if(console.log("This is the user in budget store",e),!e)throw new Error("User not logged in");const t={user:e.username,balance:0,items:[]},o=await this.sessionStore.api("budget/create",t,"POST");console.log("This is the response in the client",o),this.list.length>0&&(this.list=o.items.map(i=>({itemDescription:i.itemDescription,amount:i.amount}))),console.log("This is the response budget in create budget",o.budget),this.budget=o.budget,console.log("This is the list in the client",this.list)},async addItem(e,t){const o=this.sessionStore.session.user;if(console.log("This is the user in budget store",o),!o)throw new Error("User not logged in");const i={itemDescription:e,amount:t},n=await this.sessionStore.api("budget/add-item",i,"POST");this.budget=n.budget,this.list=n.items.map(a=>({itemDescription:a.itemDescription,amount:a.amount}))},async removeItem(e,t){const o=this.sessionStore.session.user;if(console.log("This is the user in budget store",o),!o)throw new Error("User not logged in");const i=this.list[e],n=await this.sessionStore.api("budget/delete-item",i,"DELETE");console.log("This is the response to delete item",n),this.list.splice(e,1)},async addFunds(e){if(!this.sessionStore.session.user)throw new Error("User not logged in");const o=await this.sessionStore.api("budget/add-funds",{budget:e},"PUT");console.log("This is the response in the client to add funds",o),this.budget=+o,console.log("This is the budget in the client",this.budget)},async removeFunds(e){if(!this.sessionStore.session.user)throw new Error("User not logged in");const o=await this.sessionStore.api("budget/remove-funds",{budget:e},"PUT");console.log("This is the response in the client to remove funds",o),this.budget=+o,console.log("This is the budget in the client",this.budget)}}});const Zt={},Qt={class:"card"},Xt={class:"card-content"},so={class:"content"};function eo(e,t){return c(),u("div",Qt,[s("div",Xt,[s("div",so,[rs(e.$slots,"default")])])])}var es=S(Zt,[["render",eo]]);const to={class:"message is-primary"},oo={class:"message-header"},no={class:"message-body"},io=v({props:["desc","item","index"],setup(e){const t=e;return(o,i)=>(c(),u("article",to,[s("div",oo,[s("p",null,[s("strong",null,"Purchased Item: "+w(t.index),1)]),s("button",{class:"delete","aria-label":"delete",onClick:i[0]||(i[0]=n=>o.$emit("delete"))})]),s("div",no," You spent $"+w(+t.item)+" on "+w(t.desc),1)]))}});const ns=e=>(L("data-v-0b877b88"),e=e(),N(),e),ao={class:"columns is-mobile"},lo={class:"column"},ro=$(" Balance "),co={class:"fa-solid fa-dollar-sign"},uo={class:"field has-addons funds"},_o={class:"control"},po={class:"field"},ho=ns(()=>s("p",null,"New Item",-1)),fo={class:"control has-icons-left has-icons-right"},go=ns(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-dollar-sign"})],-1)),mo={class:"field"},vo={class:"control has-icons-left"},yo=ns(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-cart-shopping"})],-1)),bo=v({setup(e){const t=cs(),o=y(""),i=y(""),n=y(""),a=y(!1);function d(){a.value=!a.value}function r(){t.addFunds(+o.value),o.value=""}function k(){t.addItem(i.value,+n.value),n.value="",i.value=""}function g(){t.removeFunds(+o.value),o.value=""}function _(p){t.removeItem(p,+n.value)}return(p,h)=>(c(),u("div",ao,[s("div",lo,[m(es,{class:"balance"},{default:b(()=>[s("p",null,[ro,s("i",co,[s("span",null,w(l(t).$state.budget),1)])]),s("div",uo,[s("p",_o,[I(s("input",{class:"input",type:"text",placeholder:"Amount of money","onUpdate:modelValue":h[0]||(h[0]=C=>o.value=C)},null,512),[[V,o.value]])])]),s("a",{class:"button",onClick:r}," Add Funds "),s("a",{class:"button",onClick:g}," Remove Funds "),s("a",{class:"button",onClick:d}," Add New Item ")]),_:1}),a.value?(c(),E(es,{key:0,class:"balance"},{default:b(()=>[s("div",po,[ho,s("p",fo,[I(s("input",{class:"input",type:"text",placeholder:"Amount","onUpdate:modelValue":h[1]||(h[1]=C=>n.value=C)},null,512),[[V,n.value]]),go])]),s("div",mo,[s("p",vo,[I(s("input",{class:"input",type:"text",placeholder:"Item","onUpdate:modelValue":h[2]||(h[2]=C=>i.value=C)},null,512),[[V,i.value]]),yo])]),s("p",{class:"control"},[s("a",{class:"button",onClick:k}," Add")])]),_:1})):f("",!0),(c(!0),u(P,null,j(l(t).$state.list,(C,Y)=>(c(),E(io,{desc:C.itemDescription,item:C.amount,index:Y,onDelete:oi=>_(Y)},null,8,["desc","item","index","onDelete"]))),256))])]))}});var $o=S(bo,[["__scopeId","data-v-0b877b88"]]);const wo=v({setup(e){return(t,o)=>(c(),E($o))}});const ds=e=>(L("data-v-083ffdc3"),e=e(),N(),e),So={class:"control"},ko={class:"card-content"},Io={class:"media"},To={class:"media-left"},Vo={class:"image is-120x120"},Uo=["src"],xo={class:"media-right"},Lo={class:"title is-4"},No=ds(()=>s("hr",null,null,-1)),Co={class:"subtitle is-6"},Mo={key:0,class:"field"},Fo=ds(()=>s("div",{class:"field-label is-normal"},null,-1)),qo={class:"field-body"},Eo={class:"field"},Po={class:"control"},Ro={class:"card-footer"},Do=v({props:["list","index","currentTab"],setup(e){const t=e,o=J(),i=H(),n=y("");function a(g){o.friendRequest(g)}function d(g){o.addFriend(g)}function r(g){o.removePendingRequest(g,t.currentTab)}function k(g){i.sendMessage(g,n.value),n.value=""}return(g,_)=>(c(),u("div",So,[s("div",ko,[s("div",Io,[s("div",To,[s("figure",Vo,[s("img",{src:e.list.pic,alt:"Placeholder image"},null,8,Uo)])]),s("div",xo,[s("p",Lo,w(t.list.username),1),No,s("p",Co,w(t.list.email),1)])]),t.currentTab==="friend-list"?(c(),u("div",Mo,[Fo,s("div",qo,[s("div",Eo,[s("p",Po,[I(s("input",{class:"input is-rounded",type:"email",placeholder:"Send Message","onUpdate:modelValue":_[0]||(_[0]=p=>n.value=p)},null,512),[[V,n.value]])])])])])):f("",!0)]),s("footer",Ro,[t.currentTab==="active-users"?(c(),u("button",{key:0,href:"#",class:"card-footer-item button is-info",onClick:_[1]||(_[1]=p=>a(t.index))}," Send Friend Request ")):f("",!0),t.currentTab==="friend-list"?(c(),u("button",{key:1,href:"#",class:"card-footer-item button is-info",onClick:_[2]||(_[2]=p=>k(t.index))}," Send Message ")):f("",!0),t.currentTab==="pending-requests"?(c(),u("button",{key:2,href:"#",class:"card-footer-item button is-info",onClick:_[3]||(_[3]=p=>d(t.index))}," Add ")):f("",!0),t.currentTab==="friend-list"||t.currentTab==="pending-requests"?(c(),u("button",{key:3,href:"#",class:"card-footer-item button is-danger",onClick:_[4]||(_[4]=p=>r(t.index))}," Remove ")):f("",!0)])]))}});var Oo=S(Do,[["__scopeId","data-v-083ffdc3"]]);const Ao={class:"tabs is-toggle is-fullwidth is-small"},Bo=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-user-group"})]),s("span",null,"Friends")],-1),jo=[Bo],Jo=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-people-pulling"})]),s("span",null,"Pending Requests")],-1),Ho=[Jo],Yo=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-people-group","aria-hidden":"true"})]),s("span",null,"Active Users")],-1),Ko=[Yo],Go=v({setup(e){const t=J();t.fetchAll(),t.fetchFriends(),t.fetchPendingRequests();const o=y("friend-list");function i(a){o.value=a}const n=K(()=>{switch(o.value){case"friend-list":return t.friendsList;case"pending-requests":return t.pendingRequests;case"active-users":return t.allUsers}});return(a,d)=>(c(),u("article",null,[s("div",Ao,[s("ul",null,[s("li",{onClick:d[0]||(d[0]=r=>i("friend-list")),class:T({"is-active":o.value==="friend-list"})},jo,2),s("li",{onClick:d[1]||(d[1]=r=>i("pending-requests")),class:T({"is-active":o.value==="pending-requests"})},Ho,2),s("li",{onClick:d[2]||(d[2]=r=>i("active-users")),class:T({"is-active":o.value==="active-users"})},Ko,2)])]),(c(!0),u(P,null,j(l(n),(r,k)=>(c(),E(Oo,{key:r,list:r,index:k,currentTab:o.value},null,8,["list","index","currentTab"]))),128))]))}});const Z=e=>(L("data-v-1bd1a7c1"),e=e(),N(),e),zo={class:"columns is-mobile"},Wo={class:"column is-four-fifths is-offset-1"},Zo=$("User Profile"),Qo=Z(()=>s("p",{class:"edit"},[s("strong",null,"Edit User")],-1)),Xo={class:"field"},sn={class:"control has-icons-left"},en=Z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-user-pen"})],-1)),tn={key:0,class:"help is-danger"},on={class:"field"},nn={class:"control has-icons-left"},an=Z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-user-pen"})],-1)),ln={key:0,class:"help is-danger"},rn={class:"field"},cn={class:"control has-icons-left"},dn=Z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-user-pen"})],-1)),un={key:0,class:"help is-danger"},_n=v({setup(e){const t=H(),o=y(!1),i=M({value:"",isValid:!0}),n=M({value:"",isValid:!0}),a=M({name:"",isValid:!0,isTaken:!1,error:"Username field cannot be empty "});F(()=>i.value,()=>{i.isValid=i.value!==""}),F(()=>n.value,()=>{n.isValid=n.value!==""}),F(()=>a.name,()=>{a.isValid=a.name!=="",a.error="Username field cannot be empty "});function d(){o.value=i.value!==""&&n.value!==""&&a.name!==""}function r(){if(console.log("Im in edit"),d(),o.value===!1){i.isValid=!1,n.isValid=!1,a.isValid=!1;return}const g={firstName:i.value,lastName:n.value,username:a.name};t.editUser(g).then(()=>{console.log("Im inside the .then"),q.push("/home")}).catch(_=>{console.log("Im inside the .catch"),console.log(_)})}function k(){console.log("Im in cancel"),q.push("/home")}return(g,_)=>{const p=B("Card");return c(),u("div",zo,[s("div",Wo,[m(os,null,{default:b(()=>[Zo]),_:1}),m(p,null,{default:b(()=>[Qo,s("div",Xo,[s("p",sn,[I(s("input",{class:T(["input",l(i).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Firstname","onUpdate:modelValue":_[0]||(_[0]=h=>l(i).value=h)},null,2),[[V,l(i).value]]),en,l(i).isValid?f("",!0):(c(),u("p",tn," First name field cannot be empty "))])]),s("div",on,[s("p",nn,[I(s("input",{class:T(["input",l(n).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Lastname","onUpdate:modelValue":_[1]||(_[1]=h=>l(n).value=h)},null,2),[[V,l(n).value]]),an,l(n).isValid?f("",!0):(c(),u("p",ln," Last name field cannot be empty "))])]),s("div",rn,[s("p",cn,[I(s("input",{class:T(["input",l(a).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Username","onUpdate:modelValue":_[2]||(_[2]=h=>l(a).name=h)},null,2),[[V,l(a).name]]),dn,l(a).isValid?f("",!0):(c(),u("p",un,w(l(a).error),1))])]),s("div",{class:"field"},[s("p",{class:"control"},[s("button",{class:"button is-success",onClick:r},"Edit"),s("button",{class:"button is-success space",onClick:k}," Cancel ")])])]),_:1})])])}}});var pn=S(_n,[["__scopeId","data-v-1bd1a7c1"]]);const hn=[{path:"/",component:Pe},{path:"/home",component:te},{path:"/signup",component:Ct},{path:"/todo",component:Wt},{path:"/budget",component:wo},{path:"/friendslist",component:Go},{path:"/edit-user",component:pn}],q=ks({history:Is(),routes:hn,linkActiveClass:"is-active"});q.beforeEach((e,t)=>{const o=["/home","/todo","/budget","/friendslist","/edit-user"],i=x();if(o.includes(e.path)&&!i.$state.session.user)return"/"});const x=G("login",{state:()=>({isLoggedIn:!1,session:{user:null}}),actions:{async Login(e,t){const o=await this.api("users/login",{username:e,password:t},"POST");if(console.log("This is the response before we check if its ok",o),o.message){console.log("Im not ok");const n=o;throw this.session.user=null,console.log("this is the error",n),n}console.log("This is right after the response is not ok and we swet loggin to true heres the data",o),this.session.user=o,this.isLoggedIn=!0;const i=cs();i.createBudget(),i.addItem("",0)},async Logout(){this.session.user=null,this.isLoggedIn=!1,q.push("/")},async api(e,t,o,i={}){var n,a;((n=this.session.user)==null?void 0:n.token)&&(i.Authorization=`Bearer ${this.session.user.token}`);try{const d=await ss(e,t,o,i);if((a=d.errors)==null?void 0:a.length)throw console.log("Im throwing the errors down"),{message:d.errors.join(", ")};return await d.data}catch(d){return console.log("Im catching those errors i threw here ",d),d}}}});const fn=e=>(L("data-v-2f192234"),e=e(),N(),e),gn={class:"media"},mn={class:"image is-220x220"},vn=["src"],yn={class:"media-content"},bn={class:"content"},$n=$("Welcome Back "),wn=fn(()=>s("br",null,null,-1)),Sn=v({setup(e){const o=x().session.user;if(!o)throw"User not Found";const i=y(o.username),n=y(o.pic);function a(){q.push("/edit-user")}return(d,r)=>(c(),u("article",gn,[s("figure",{class:"media-left",onClick:a},[s("a",mn,[s("img",{src:n.value},null,8,vn)])]),s("div",yn,[s("div",bn,[s("p",null,[s("strong",null,[$n,wn,$(w(i.value)+"!",1)])])])])]))}});var kn=S(Sn,[["__scopeId","data-v-2f192234"]]);const D=e=>(L("data-v-222552b5"),e=e(),N(),e),In={class:"navbar-start"},Tn=D(()=>s("strong",null,"Home",-1)),Vn=D(()=>s("strong",null,"Messages",-1)),Un={key:0,class:"icon"},xn=D(()=>s("i",{class:"fa-regular fa-envelope"},null,-1)),Ln=[xn],Nn={key:1,class:"tag is-danger"},Cn=D(()=>s("strong",null,"Friends List ",-1)),Mn={key:0,class:"icon"},Fn=D(()=>s("i",{class:"fa-regular fa-bell"},null,-1)),qn=[Fn],En={key:1,class:"tag is-danger"},Pn=D(()=>s("strong",null,"Budget",-1)),Rn={key:0,class:"navbar-end"},Dn={class:"navbar-item"},On=v({props:{display:String},setup(e){const t=J(),o=x(),i=K(()=>t.pendingRequests.length),n=K(()=>{const d=o.session.user;if(!d)throw new Error("No logged in user found");return d.recievedMessages.length});function a(){o.Logout()}return(d,r)=>(c(),u("div",{class:T(["navbar-menu",e.display]),id:"nav-links"},[s("div",In,[m(l(R),{to:"/home",class:"navbar-item"},{default:b(()=>[Tn]),_:1}),m(l(R),{to:"/todo",class:"navbar-item"},{default:b(()=>[Vn,l(o).isLoggedIn&&l(n)>0?(c(),u("span",Un,Ln)):f("",!0),l(o).isLoggedIn&&l(n)>0?(c(),u("span",Nn,w(l(n)),1)):f("",!0)]),_:1}),m(l(R),{to:"/friendslist",class:"navbar-item"},{default:b(()=>[Cn,l(o).isLoggedIn&&l(t).pendingRequests.length>0?(c(),u("span",Mn,qn)):f("",!0),l(o).isLoggedIn&&l(t).pendingRequests.length>0?(c(),u("span",En,w(l(i)),1)):f("",!0)]),_:1}),m(l(R),{to:"/budget",class:"navbar-item"},{default:b(()=>[Pn]),_:1})]),l(o).isLoggedIn?(c(),u("div",Rn,[s("div",Dn,[m(kn)]),s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("a",{class:"button is-primary",onClick:a},"Logout")])])])):f("",!0)],2))}});var An=S(On,[["__scopeId","data-v-222552b5"]]);const Bn={},jn={class:"navbar-burger"},Jn=s("span",null,null,-1),Hn=s("span",null,null,-1),Yn=s("span",null,null,-1),Kn=[Jn,Hn,Yn];function Gn(e,t){return c(),u("a",jn,Kn)}var zn=S(Bn,[["render",Gn]]);const Wn=e=>(L("data-v-d0dfedc6"),e=e(),N(),e),Zn={class:"navbar is-light"},Qn={class:"navbar-brand"},Xn=Wn(()=>s("a",{class:"navbar-item"},[s("img",{src:Rs,alt:"image of happy person",style:{"max-height":"80px"},width:"100"})],-1)),si=v({setup(e){const t=y(!1),o=y("");y(!1);function i(){t.value=!t.value,t.value?o.value="is-active":o.value="none"}return(n,a)=>(c(),u("nav",Zn,[s("div",Qn,[Xn,m(zn,{onClick:i})]),m(An,{clicked:t.value,display:o.value},null,8,["clicked","display"])]))}});var ei=S(si,[["__scopeId","data-v-d0dfedc6"]]);const ti=v({setup(e){return(t,o)=>{const i=B("HeaderNavbar"),n=B("router-view");return c(),u(P,null,[m(i),m(n,null,{default:b(({Component:a})=>[m(Ts,{mode:"out-in","enter-active-class":"animate__animated animate__fadeIn animate__faster","leave-active-class":"animate__animated animate__fadeOut animate__faster"},{default:b(()=>[(c(),E(Vs(a)))]),_:2},1024)]),_:1})],64)}}}),O=Us(ti);O.component("Footer",Ps);O.component("HeaderNavbar",ei);O.component("Card",es);O.use(q);O.use(xs());O.mount("#app");
