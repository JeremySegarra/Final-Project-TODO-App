var us=Object.defineProperty,_s=Object.defineProperties;var ps=Object.getOwnPropertyDescriptors;var is=Object.getOwnPropertySymbols;var hs=Object.prototype.hasOwnProperty,fs=Object.prototype.propertyIsEnumerable;var as=(e,t,o)=>t in e?us(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,A=(e,t)=>{for(var o in t||(t={}))hs.call(t,o)&&as(e,o,t[o]);if(is)for(var o of is(t))fs.call(t,o)&&as(e,o,t[o]);return e},Z=(e,t)=>_s(e,ps(t));import{o as c,c as u,p as x,a as N,b as s,d as w,e as v,r as M,A as gs,P as ms,N as vs,f as E,w as b,g as j,h as m,u as r,S as ys,F as P,i as bs,j as G,t as k,k as y,l as I,v as V,m as $s,n as g,q as ws,s as ls,R,x as Ss,y as rs,z as B,B as q,C as T,D as K,E as ks,G as Is,T as Ts,H as Vs,I as Us,J as Ls}from"./vendor.aad6fded.js";const xs=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}};xs();var S=(e,t)=>{const o=e.__vccOpts||e;for(const[i,n]of t)o[i]=n;return o};const Ns={},Cs=e=>(x("data-v-2e14fdd1"),e=e(),N(),e),Ms={class:"footer"},Fs=Cs(()=>s("div",{class:"content has-text-centered"},[s("p",null,[s("strong",null,"Wellness"),w(" by Jeremy Segarra.")])],-1)),qs=[Fs];function Es(e,t){return c(),u("footer",Ms,qs)}var Ps=S(Ns,[["render",Es],["__scopeId","data-v-2e14fdd1"]]),Rs="/assets/wellness-logo.png";const Os=["src"],Ds=v({setup(e){const t=["/assets/thomas-bormans-pcpsVsyFp_s-unsplash.jpg","/assets/kelly-sikkema-6aY-6B3MiZ4-unsplash.jpg","/assets/brett-jordan-MwkDKpOQmGc-unsplash.jpg","/assets/fabian-blank-pElSkGRA2NU-unsplash.jpg","/assets/krakenimages-376KN_ISplE-unsplash.jpg","/assets/kelly-sikkema-6aY-6B3MiZ4-unsplash.jpg","/assets/towfiqu-barbhuiya-0ITvgXAU5Oo-unsplash.jpg","/assets/towfiqu-barbhuiya-jpqyfK7GB4w-unsplash.jpg"],o=M([gs,ms,vs]);return(i,n)=>(c(),E(r(bs),{spaceBetween:30,centeredSlides:!0,loop:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},navigation:!0,modules:r(o),class:"mySwiper"},{default:b(()=>[(c(),u(P,null,j(t,a=>m(r(ys),{key:a},{default:b(()=>[s("img",{src:a},null,8,Os)]),_:2},1024)),64))]),_:1},8,["modules"]))}});function As(){const e=new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}const es="http://localhost:3001/api/";async function Q(e){return fetch(es+e).then(t=>t.json())}function X(e,t,o,i){let n={headers:i};return console.log("Im inside my fetch modulerAPI, and the body is",t),console.log("The url is",e),t&&(n={method:o!=null?o:"POST",cache:"no-cache",credentials:"same-origin",headers:A({"Content-Type":"application/json"},i),body:JSON.stringify(t)}),fetch(es+e,n).then(a=>a.json())}async function Bs(e,t){const o=await fetch(es+e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(!o.ok){const n=await o.json();throw console.log("this is the data in MyFetch",n),n}return await o.json()}const J=G("friends",{state:()=>({friendsList:[],allUsers:[],pendingRequests:[]}),actions:{async addFriend(e){const o=L().session.user;if(!o)throw new Error("You must be logged in to add friends");const i=JSON.parse(JSON.stringify(this.pendingRequests[e]));try{const n=await X(`friends/add_friend/${o._id}`,i,"POST");console.log("This is the response to add a new user",n),this.pendingRequests.splice(e,1),console.log("This is the current state locally pending requests",this.pendingRequests),this.friendsList.push(i),console.log("This is the current state locally friends list",this.friendsList)}catch(n){console.log("This is the error for the add friend",n)}},async removePendingRequest(e,t){const i=L().session.user;let n;if(!i)throw new Error("You must be logged in to add friends");t==="friend-list"?(n=JSON.parse(JSON.stringify(this.friendsList[e])),this.friendsList.splice(e,1)):(n=JSON.parse(JSON.stringify(this.pendingRequests[e])),this.pendingRequests.splice(e,1)),console.log("This is the user to be removed",n),console.log("This is the user without parseing",this.friendsList[e]);try{const a=await X(`friends/deny_request/${i._id}`,Z(A({},n),{currentTab:t}),"PATCH");console.log("This is the response to remove a pending request or friend",a)}catch(a){console.log("This is the error for the remove pending request or friend",a)}},async friendRequest(e){const o=L().session.user;if(!o)throw new Error("You must be logged in to send requests");const i=JSON.parse(JSON.stringify(this.allUsers[e]));console.log("We click addFriend button and find the user in the list by id, Then we send the that id to the api, to then add the body of the request to that users pending request list ",i);try{const n=await Bs(`friends/friend_request/${i._id}`,{username:o.username,email:o.email,pic:o.pic});console.log("Im in the try catch here is the response, ",n.data)}catch(n){console.log("this is the error in the try catch",n)}},async fetchAll(){this.allUsers=(await Q("users")).data},async fetchFriends(){const e=L();if(!e.session.user)throw new Error("You must be logged in to fetch friends");const t=(await Q(`friends/${e.session.user._id}`)).data;this.friendsList=t.friendsList},async fetchPendingRequests(){const e=L();if(!e.session.user)throw new Error("You must be logged in to fetch friends");const t=(await Q(`friends/${e.session.user._id}`)).data;this.pendingRequests=t.pendingRequests}}}),H=G("user",{state:()=>({date:As(),friendsStore:J(),sessionStore:L(),list:[]}),actions:{randomNumberGenerator(){return Math.floor(Math.random()*30)+1},async editUser(e){const t=this.sessionStore.session.user;if(!t)throw new Error("User not logged in");console.log("this is the session user",t.username);const o=await this.sessionStore.api("users/edit-user",e,"PATCH");console.log("this is the session user take 2",t.username),t.firstName=e.firstName,t.lastName=e.lastName,console.log("This is the edit response",o)},async addToDo(e){const t=this.sessionStore.session.user;if(!t)throw new Error("User not logged in");const o={message:e};await this.sessionStore.api("messages",o,"POST"),t.myMessages.push(o)},deleteToDo(e){const t=this.sessionStore.session.user;if(!t)throw new Error("User not logged in");const i={message:t.myMessages[e].message,currentTab:"my-list"};console.log("this is the payload in the client",i),this.sessionStore.api("messages/delete-message",i,"DELETE"),t.myMessages.splice(e,1)},async setNewUser(e,t,o,i,n){const a={firstName:e,lastName:t,username:o,email:i,password:n,pic:`https://randomuser.me/api/portraits/men/${this.randomNumberGenerator()}.jpg`,recievedMessages:[],myMessages:[],sentMessages:[],pendingRequests:[],friendsList:[]},d=await fetch("http://localhost:3001/api/users/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!d.ok)throw console.log("this is in the not ok"),await d.json()},async deleteMessage(e,t,o){const i=this.sessionStore.session.user;let n;if(!i)throw new Error("You are not logged in");switch(t){case"my-list":n=i.myMessages.splice(e,1);break;case"recieved":n=i.recievedMessages.splice(e,1);break;default:n=i.sentMessages.splice(e,1)}const a=Z(A({},n[0]),{currentTab:t});console.log("This is the payload: ",a);const d=await this.sessionStore.api("messages/delete-message",a,"DELETE");console.log("This is the delete message: ",d)},async sendMessage(e,t){const o=this.sessionStore.session.user;if(!o)throw new Error("You are not logged in");const i=JSON.parse(JSON.stringify(o.friendsList[e])),n={message:t,reciever:i.username,sender:o.username,date:this.date};o.sentMessages.push(A({},n));const a=await this.sessionStore.api("messages/send",n,"POST");console.log("This is the sent message response",a)}}}),js={class:"panel-block is-active"},Js=s("span",{class:"panel-icon"},[s("i",{class:"fas fa-book","aria-hidden":"true"})],-1),Hs=v({props:["todo"],setup(e){const t=e;return console.log("Im the prop todo",t.todo),(o,i)=>(c(),u("div",{onClick:i[0]||(i[0]=n=>o.$emit("delete"))},[s("a",js,[Js,w(" "+k(t.todo),1)])]))}}),Ys={class:"section"},Ks={class:"panel is-info"},Gs=s("p",{class:"panel-heading"},"Reminders",-1),zs={class:"panel-block"},Ws={class:"control has-icons-left"},Zs=["onKeydown"],Qs=s("span",{class:"icon is-left"},[s("i",{class:"fa-solid fa-clipboard-check"})],-1),Xs=v({setup(e){const t=y(""),o=y(""),i=H(),n=i.sessionStore.session.user;if(!n)throw new Error("No user found in session");const a=n.myMessages;function d(){i.addToDo(o.value),$()}function l(h){i.deleteToDo(h)}function $(){t.value="",o.value=""}return(h,_)=>(c(),u("div",Ys,[s("article",Ks,[Gs,s("div",zs,[s("p",Ws,[I(s("input",{class:"input is-info",type:"text",placeholder:"New ToDo","onUpdate:modelValue":_[0]||(_[0]=p=>o.value=p),onKeydown:$s(d,["enter"])},null,40,Zs),[[V,o.value]]),Qs])]),(c(!0),u(P,null,j(r(a),(p,f)=>(c(),E(Hs,{key:f,todo:p.message,onDelete:C=>l(f)},null,8,["todo","onDelete"]))),128))])]))}});const se={class:"container"},ee=v({setup(e){return(t,o)=>(c(),u("div",se,[m(Ds),m(Xs)]))}});var te=S(ee,[["__scopeId","data-v-35cccece"]]);const z=e=>(x("data-v-17c03253"),e=e(),N(),e),oe={class:"field"},ne=z(()=>s("p",null,[s("strong",null,"Username")],-1)),ie={class:"control has-icons-left has-icons-right"},ae=z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-envelope"})],-1)),le={key:0,style:{color:"red"}},re={class:"field"},ce=z(()=>s("p",null,[s("strong",null,"Password")],-1)),de={class:"control has-icons-left has-icons-right"},ue=["type"],_e=z(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1)),pe=["onClick"],he={key:0,class:"fa-solid fa-eye-slash eye"},fe={key:1,class:"fa-solid fa-eye"},ge={key:0,style:{color:"red"}},me=v({setup(e){const t=L(),o=y(""),i=y(""),n=y(!1),a=M({type:!1,message:""}),d=M({type:!1,message:""});function l(){t.Login(o.value,i.value).then(()=>{a.type=!1,d.type=!1,J().fetchPendingRequests(),F.push("/home")}).catch(_=>{_.message==="User not found please re-enter username"?(a.type=!0,d.type=!1,a.message=_.message):(a.type=!1,d.type=!0,d.message=_.message)})}function $(){console.log(n.value),n.value=!n.value}function h(_){_.preventDefault()}return(_,p)=>(c(),u(P,null,[s("div",oe,[ne,s("p",ie,[I(s("input",{class:"input",type:"email",placeholder:"Type your username","onUpdate:modelValue":p[0]||(p[0]=f=>o.value=f)},null,512),[[V,o.value]]),ae]),r(a).type?(c(),u("p",le,k(r(a).message),1)):g("",!0)]),s("div",re,[ce,s("p",de,[I(s("input",{class:"input",type:n.value?"test":"password",placeholder:"Type your password","onUpdate:modelValue":p[1]||(p[1]=f=>i.value=f)},null,8,ue),[[ws,i.value]]),_e,s("span",{class:"icon is-small is-right",style:{cursor:"pointer"},onClick:ls($,["prevent"]),onMousedown:h,"aria-hidden":"true"},[n.value?(c(),u("i",he)):(c(),u("i",fe))],40,pe)]),r(d).type?(c(),u("p",ge,k(r(d).message),1)):g("",!0)]),s("div",{class:"field"},[s("div",{class:"section"},[s("p",{class:"control"},[s("button",{class:"button is-info is-fullwidth is-rounded login-brand",onClick:l}," Login ")])])])],64))}});var ve=S(me,[["__scopeId","data-v-17c03253"]]);const ye=e=>(x("data-v-f42e9fb6"),e=e(),N(),e),be=Ss('<div class="section" data-v-f42e9fb6><p data-v-f42e9fb6><strong data-v-f42e9fb6>Sign In Using</strong></p><button class="button google-brand brand" data-v-f42e9fb6><i class="fa-brands fa-google" data-v-f42e9fb6></i></button><button class="button twitter-brand brand" data-v-f42e9fb6><i class="fa-brands fa-twitter" data-v-f42e9fb6></i></button><button class="button facebook-brand brand" data-v-f42e9fb6><i class="fa-brands fa-facebook" data-v-f42e9fb6></i></button></div>',1),$e={class:"field"},we={class:"section"},Se=ye(()=>s("p",null,[s("strong",null,"Or Sign Up Using")],-1)),ke=w("Sign Up"),Ie=v({setup(e){return(t,o)=>(c(),u(P,null,[be,s("div",$e,[s("div",we,[Se,m(r(R),{to:"/signup",class:"button signup-brand is-rounded is-info"},{default:b(()=>[ke]),_:1})])])],64))}});var Te=S(Ie,[["__scopeId","data-v-f42e9fb6"]]);const Ve={},Ue={class:"section"},Le={class:"title"};function xe(e,t){return c(),u("div",Ue,[s("h1",Le,[rs(e.$slots,"default",{},void 0,!0)])])}var ts=S(Ve,[["render",xe],["__scopeId","data-v-2cdc62be"]]);const Ne=e=>(x("data-v-3748dc6c"),e=e(),N(),e),Ce={class:"columns is-mobile"},Me={class:"column is-four-fifths is-offset-1"},Fe=w("Login"),qe=Ne(()=>s("p",null,[s("strong",null,"Note To Professor:"),w(" to easily log in without creating an account use donald. "),s("strong",null,"Username:"),w(" donald, "),s("strong",null,"Password:"),w(" Qq1!1111 ")],-1)),Ee=v({setup(e){return(t,o)=>{const i=B("Card");return c(),u("div",Ce,[s("div",Me,[m(ts,null,{default:b(()=>[Fe]),_:1}),qe,m(i,null,{default:b(()=>[m(ve),m(Te)]),_:1})])])}}});var Pe=S(Ee,[["__scopeId","data-v-3748dc6c"]]);const U=e=>(x("data-v-07af1cfe"),e=e(),N(),e),Re=["onSubmit"],Oe={class:"field"},De=U(()=>s("label",{class:"label"},"First Name",-1)),Ae={class:"control has-icons-left has-icons-right"},Be=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-user"})],-1)),je={key:0,class:"help is-danger"},Je={class:"field"},He=U(()=>s("label",{class:"label"},"Last Name",-1)),Ye={class:"control has-icons-left has-icons-right"},Ke=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-user"})],-1)),Ge={key:0,class:"help is-danger"},ze={class:"field"},We=U(()=>s("label",{class:"label"},"Username",-1)),Ze={class:"control has-icons-left has-icons-right"},Qe=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-user"})],-1)),Xe={key:0,class:"help is-danger"},st={class:"field"},et=U(()=>s("label",{class:"label"},"Email",-1)),tt={class:"control has-icons-left has-icons-right"},ot=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-envelope"})],-1)),nt={key:0,class:"help is-danger"},it={class:"field"},at=U(()=>s("label",{class:"label"},"Password",-1)),lt={class:"control has-icons-left"},rt=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1)),ct={key:0,class:"help is-danger"},dt=w(" Password must contain "),ut=U(()=>s("br",null,null,-1)),_t={key:0},pt={key:1},ht={key:2},ft={key:3},gt={key:4},mt={class:"field"},vt=U(()=>s("label",{class:"label"},"Verify Password",-1)),yt={class:"control has-icons-left"},bt=U(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fas fa-lock"})],-1)),$t={key:0,class:"help is-danger"},wt={class:"field is-grouped-centered is-horizontal"},St=U(()=>s("p",{class:"control"},[s("button",{class:"button is-info",type:"submit"},"Submit")],-1)),kt={class:"control"},It=w(" Cancel "),Tt=v({setup(e){const t=H(),o=y(!1),i=M({value:"",isValid:!0}),n=M({value:"",isValid:!0}),a=M({name:"",isValid:!0,isTaken:!1,error:"Username field cannot be empty "}),d=M({value:"",isValid:!0}),l=M({value:"",verify:"",passwordIsValid:!0,verifyIsValid:!0,whitespace:!1,length:!1,uppercase:!1,lowercase:!1,symbol:!1,digit:!1});q(()=>i.value,()=>{i.isValid=i.value!==""}),q(()=>n.value,()=>{n.isValid=n.value!==""}),q(()=>a.name,()=>{a.isValid=a.name!=="",a.error="Username field cannot be empty "}),q(()=>d.value,()=>{const _=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;d.isValid=d.value!==""||_.test(d.value),d.isValid=_.test(d.value)}),q(()=>l.value,()=>{const _=/(?=.*[A-Z])/,p=/^(?=.*[a-z])/,f=/^(?=.*[0-9])/,C=/^.{8,16}$/,Y=/^(?=.*[~!@#$%^&*()--+={}\[\]|\\:;<>,.?/_â‚¹])/;l.passwordIsValid=l.value==="",l.digit=f.test(l.value),l.uppercase=_.test(l.value),l.lowercase=p.test(l.value),l.length=C.test(l.value),l.symbol=Y.test(l.value),l.passwordIsValid=l.digit&&l.length&&l.lowercase&&l.uppercase&&l.symbol}),q(()=>l.verify,()=>{l.verifyIsValid=l.verify!==""&&l.value===l.verify});function $(){o.value=i.value!==""&&n.value!==""&&a.name!==""&&d.value!==""&&l.value!==""}function h(){if($(),o.value===!1){i.isValid=!1,n.isValid=!1,a.isValid=!1,d.isValid=!1,l.passwordIsValid=!1,l.verifyIsValid=!1;return}if(l.verify===""){l.verifyIsValid=!1;return}console.log(i.value,n.value,a.name,d.value,l.value),t.setNewUser(i.value,n.value,a.name,d.value,l.value).then(()=>{F.push("/")}).catch(_=>{console.log("Im inside the catch block of the signup form",_.errors[0]),_.errors[0].type==="username"&&(console.log("Im inside the username error"),a.isTaken=!0,a.error=_.errors[0].message,a.isValid=!1)})}return(_,p)=>(c(),u("form",{onSubmit:ls(h,["prevent"])},[s("div",Oe,[De,s("div",Ae,[I(s("input",{class:T(["input",r(i).isValid?"is-info":"is-danger"]),type:"text",placeholder:"first name","onUpdate:modelValue":p[0]||(p[0]=f=>r(i).value=f)},null,2),[[V,r(i).value,void 0,{trim:!0}]]),Be]),r(i).isValid?g("",!0):(c(),u("p",je," First name field cannot be empty "))]),s("div",Je,[He,s("div",Ye,[I(s("input",{class:T(["input",r(n).isValid?"is-info":"is-danger"]),type:"text",placeholder:"last name","onUpdate:modelValue":p[1]||(p[1]=f=>r(n).value=f)},null,2),[[V,r(n).value,void 0,{trim:!0}]]),Ke]),r(n).isValid?g("",!0):(c(),u("p",Ge," Last name field cannot be empty "))]),s("div",ze,[We,s("div",Ze,[I(s("input",{class:T(["input",r(a).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Enter a username","onUpdate:modelValue":p[2]||(p[2]=f=>r(a).name=f)},null,2),[[V,r(a).name,void 0,{trim:!0}]]),Qe]),r(a).isValid?g("",!0):(c(),u("p",Xe,k(r(a).error),1))]),s("div",st,[et,s("div",tt,[I(s("input",{class:T(["input",r(d).isValid?"is-info":"is-danger"]),type:"email",placeholder:"Enter your email","onUpdate:modelValue":p[3]||(p[3]=f=>r(d).value=f)},null,2),[[V,r(d).value,void 0,{trim:!0}]]),ot]),r(d).isValid?g("",!0):(c(),u("p",nt," Please enter a valid email "))]),s("div",it,[at,s("div",lt,[I(s("input",{class:T(["input",r(l).passwordIsValid?"is-info":"is-danger"]),type:"password",placeholder:"Password",autocomplete:"new-password","onUpdate:modelValue":p[4]||(p[4]=f=>r(l).value=f)},null,2),[[V,r(l).value,void 0,{trim:!0}]]),rt]),r(l).passwordIsValid?g("",!0):(c(),u("p",ct,[dt,ut,s("ul",null,[r(l).length?g("",!0):(c(),u("li",_t,"8 to 16 characters")),r(l).uppercase?g("",!0):(c(),u("li",pt,"at least 1 uppercase character")),r(l).lowercase?g("",!0):(c(),u("li",ht,"at least 1 lowercase character")),r(l).symbol?g("",!0):(c(),u("li",ft,"at least 1 symbol")),r(l).digit?g("",!0):(c(),u("li",gt,"at least 1 number"))])]))]),s("div",mt,[vt,s("div",yt,[I(s("input",{class:T(["input",r(l).verifyIsValid?"is-info":"is-danger"]),type:"password",placeholder:"Password",autocomplete:"new-password","onUpdate:modelValue":p[5]||(p[5]=f=>r(l).verify=f)},null,2),[[V,r(l).verify,void 0,{trim:!0}]]),bt]),r(l).verifyIsValid?g("",!0):(c(),u("p",$t," Password does not match"))]),s("div",wt,[St,s("p",kt,[m(r(R),{class:"button is-light",to:"/"},{default:b(()=>[It]),_:1})])])],40,Re))}});var Vt=S(Tt,[["__scopeId","data-v-07af1cfe"]]);const Ut={class:"columns is-mobile"},Lt={class:"column is-half is-offset-one-quarter"},xt=w("Sign Up"),Nt=v({setup(e){return(t,o)=>{const i=B("Card");return c(),u("div",Ut,[s("div",Lt,[m(ts,null,{default:b(()=>[xt]),_:1}),m(i,null,{default:b(()=>[m(Vt)]),_:1})])])}}});var Ct=S(Nt,[["__scopeId","data-v-4e76a110"]]);const W=e=>(x("data-v-d7f5f642"),e=e(),N(),e),Mt={class:"message-header"},Ft=W(()=>s("strong",null,"Sent By:",-1)),qt=W(()=>s("br",null,null,-1)),Et=W(()=>s("strong",null,"Date:",-1)),Pt=W(()=>s("i",{class:"fa-solid fa-reply"},null,-1)),Rt=w(" Reply "),Ot=[Pt,Rt],Dt={class:"message-body"},At=v({props:["message","list","index"],setup(e){const t=e,o=H(),i=y(!1);function n(){o.deleteMessage(t.index,t.list,t.message)}function a(){console.log("Im in reply message"),F.push("/friendslist")}return(d,l)=>(c(),u("article",{class:T(["message",i.value?"is-primary":"is-info"])},[s("div",Mt,[s("p",null,[Ft,w(" "+k(t.message.sender)+" ",1),qt,Et,w(" "+k(t.message.date),1)]),t.list==="recieved"?(c(),u("label",{key:0,onClick:a,class:"checkbox"},Ot)):g("",!0),s("button",{class:"delete","aria-label":"delete",onClick:n})]),s("div",Dt,k(t.message.message),1)],2))}});var Bt=S(At,[["__scopeId","data-v-d7f5f642"]]);const jt={class:"tabs is-toggle is-fullwidth is-small"},Jt=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-inbox","aria-hidden":"true"})]),s("span",null,"Recieved")],-1),Ht=[Jt],Yt=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-share","aria-hidden":"true"})]),s("span",null,"Sent")],-1),Kt=[Yt],Gt={class:"columns is-mobile"},zt={class:"column is-four-fifths is-offset-1"},Wt=v({setup(e){const o=L().session.user;if(!o)throw new Error("No user found");const i=o.sentMessages,n=o.recievedMessages,a=y("recieved"),d=K(()=>{switch(a.value){case"recieved":return n;case"sent":return i}});function l($){a.value=$}return($,h)=>(c(),u("section",null,[s("div",jt,[s("ul",null,[s("li",{onClick:h[0]||(h[0]=_=>l("recieved")),class:T({"is-active":a.value==="recieved"})},Ht,2),s("li",{onClick:h[1]||(h[1]=_=>l("sent")),class:T({"is-active":a.value==="sent"})},Kt,2)])]),s("div",Gt,[s("div",zt,[(c(!0),u(P,null,j(r(d),(_,p)=>(c(),E(Bt,{key:_,index:p,message:_,list:a.value},null,8,["index","message","list"]))),128))])])]))}}),cs=G("budget",{state:()=>({budget:0,list:[],sessionStore:L()}),actions:{async createBudget(){const e=this.sessionStore.session.user;if(console.log("This is the user in budget store",e),!e)throw new Error("User not logged in");const t={user:e.username,balance:0,items:[]},o=await this.sessionStore.api("budget/create",t,"POST");console.log("This is the response in the client",o),this.list.length>0&&(this.list=o.items.map(i=>({itemDescription:i.itemDescription,amount:i.amount}))),console.log("This is the response budget in create budget",o.budget),this.budget=o.budget,console.log("This is the list in the client",this.list)},async addItem(e,t){const o=this.sessionStore.session.user;if(console.log("This is the user in budget store",o),!o)throw new Error("User not logged in");const i={itemDescription:e,amount:t},n=await this.sessionStore.api("budget/add-item",i,"POST");this.budget=n.budget,this.list=n.items.map(a=>({itemDescription:a.itemDescription,amount:a.amount}))},async removeItem(e,t){const o=this.sessionStore.session.user;if(console.log("This is the user in budget store",o),!o)throw new Error("User not logged in");const i=this.list[e],n=await this.sessionStore.api("budget/delete-item",i,"DELETE");console.log("This is the response to delete item",n),this.list.splice(e,1)},async addFunds(e){if(!this.sessionStore.session.user)throw new Error("User not logged in");const o=await this.sessionStore.api("budget/add-funds",{budget:e},"PUT");console.log("This is the response in the client to add funds",o),this.budget=+o,console.log("This is the budget in the client",this.budget)},async removeFunds(e){if(!this.sessionStore.session.user)throw new Error("User not logged in");const o=await this.sessionStore.api("budget/remove-funds",{budget:e},"PUT");console.log("This is the response in the client to remove funds",o),this.budget=+o,console.log("This is the budget in the client",this.budget)}}});const Zt={},Qt={class:"card"},Xt={class:"card-content"},so={class:"content"};function eo(e,t){return c(),u("div",Qt,[s("div",Xt,[s("div",so,[rs(e.$slots,"default")])])])}var ss=S(Zt,[["render",eo]]);const to={class:"message is-primary"},oo={class:"message-header"},no={class:"message-body"},io=v({props:["desc","item","index"],setup(e){const t=e;return(o,i)=>(c(),u("article",to,[s("div",oo,[s("p",null,[s("strong",null,"Purchased Item: "+k(t.index),1)]),s("button",{class:"delete","aria-label":"delete",onClick:i[0]||(i[0]=n=>o.$emit("delete"))})]),s("div",no," You spent $"+k(+t.item)+" on "+k(t.desc),1)]))}});const os=e=>(x("data-v-0b877b88"),e=e(),N(),e),ao={class:"columns is-mobile"},lo={class:"column"},ro=w(" Balance "),co={class:"fa-solid fa-dollar-sign"},uo={class:"field has-addons funds"},_o={class:"control"},po={class:"field"},ho=os(()=>s("p",null,"New Item",-1)),fo={class:"control has-icons-left has-icons-right"},go=os(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-dollar-sign"})],-1)),mo={class:"field"},vo={class:"control has-icons-left"},yo=os(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-cart-shopping"})],-1)),bo=v({setup(e){const t=cs(),o=y(""),i=y(""),n=y(""),a=y(!1);function d(){a.value=!a.value}function l(){t.addFunds(+o.value),o.value=""}function $(){t.addItem(i.value,+n.value),n.value="",i.value=""}function h(){t.removeFunds(+o.value),o.value=""}function _(p){t.removeItem(p,+n.value)}return(p,f)=>(c(),u("div",ao,[s("div",lo,[m(ss,{class:"balance"},{default:b(()=>[s("p",null,[ro,s("i",co,[s("span",null,k(r(t).$state.budget),1)])]),s("div",uo,[s("p",_o,[I(s("input",{class:"input",type:"text",placeholder:"Amount of money","onUpdate:modelValue":f[0]||(f[0]=C=>o.value=C)},null,512),[[V,o.value]])])]),s("a",{class:"button",onClick:l}," Add Funds "),s("a",{class:"button",onClick:h}," Remove Funds "),s("a",{class:"button",onClick:d}," Add New Item ")]),_:1}),a.value?(c(),E(ss,{key:0,class:"balance"},{default:b(()=>[s("div",po,[ho,s("p",fo,[I(s("input",{class:"input",type:"text",placeholder:"Amount","onUpdate:modelValue":f[1]||(f[1]=C=>n.value=C)},null,512),[[V,n.value]]),go])]),s("div",mo,[s("p",vo,[I(s("input",{class:"input",type:"text",placeholder:"Item","onUpdate:modelValue":f[2]||(f[2]=C=>i.value=C)},null,512),[[V,i.value]]),yo])]),s("p",{class:"control"},[s("a",{class:"button",onClick:$}," Add")])]),_:1})):g("",!0),(c(!0),u(P,null,j(r(t).$state.list,(C,Y)=>(c(),E(io,{desc:C.itemDescription,item:C.amount,index:Y,onDelete:Xn=>_(Y)},null,8,["desc","item","index","onDelete"]))),256))])]))}});var $o=S(bo,[["__scopeId","data-v-0b877b88"]]);const wo=v({setup(e){return(t,o)=>(c(),E($o))}});const ds=e=>(x("data-v-083ffdc3"),e=e(),N(),e),So={class:"control"},ko={class:"card-content"},Io={class:"media"},To={class:"media-left"},Vo={class:"image is-120x120"},Uo=["src"],Lo={class:"media-right"},xo={class:"title is-4"},No=ds(()=>s("hr",null,null,-1)),Co={class:"subtitle is-6"},Mo={key:0,class:"field"},Fo=ds(()=>s("div",{class:"field-label is-normal"},null,-1)),qo={class:"field-body"},Eo={class:"field"},Po={class:"control"},Ro={class:"card-footer"},Oo=v({props:["list","index","currentTab"],setup(e){const t=e,o=J(),i=H(),n=y("");function a(h){o.friendRequest(h)}function d(h){o.addFriend(h)}function l(h){o.removePendingRequest(h,t.currentTab)}function $(h){i.sendMessage(h,n.value),n.value=""}return(h,_)=>(c(),u("div",So,[s("div",ko,[s("div",Io,[s("div",To,[s("figure",Vo,[s("img",{src:e.list.pic,alt:"Placeholder image"},null,8,Uo)])]),s("div",Lo,[s("p",xo,k(t.list.username),1),No,s("p",Co,k(t.list.email),1)])]),t.currentTab==="friend-list"?(c(),u("div",Mo,[Fo,s("div",qo,[s("div",Eo,[s("p",Po,[I(s("input",{class:"input is-rounded",type:"email",placeholder:"Send Message","onUpdate:modelValue":_[0]||(_[0]=p=>n.value=p)},null,512),[[V,n.value]])])])])])):g("",!0)]),s("footer",Ro,[t.currentTab==="active-users"?(c(),u("button",{key:0,href:"#",class:"card-footer-item button is-info",onClick:_[1]||(_[1]=p=>a(t.index))}," Send Friend Request ")):g("",!0),t.currentTab==="friend-list"?(c(),u("button",{key:1,href:"#",class:"card-footer-item button is-info",onClick:_[2]||(_[2]=p=>$(t.index))}," Send Message ")):g("",!0),t.currentTab==="pending-requests"?(c(),u("button",{key:2,href:"#",class:"card-footer-item button is-info",onClick:_[3]||(_[3]=p=>d(t.index))}," Add ")):g("",!0),t.currentTab==="friend-list"||t.currentTab==="pending-requests"?(c(),u("button",{key:3,href:"#",class:"card-footer-item button is-danger",onClick:_[4]||(_[4]=p=>l(t.index))}," Remove ")):g("",!0)])]))}});var Do=S(Oo,[["__scopeId","data-v-083ffdc3"]]);const Ao={class:"tabs is-toggle is-fullwidth is-small"},Bo=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-user-group"})]),s("span",null,"Friends")],-1),jo=[Bo],Jo=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-people-pulling"})]),s("span",null,"Pending Requests")],-1),Ho=[Jo],Yo=s("a",null,[s("span",{class:"icon"},[s("i",{class:"fa-solid fa-people-group","aria-hidden":"true"})]),s("span",null,"Active Users")],-1),Ko=[Yo],Go=v({setup(e){const t=J();t.fetchAll(),t.fetchFriends(),t.fetchPendingRequests();const o=y("friend-list");function i(a){o.value=a}const n=K(()=>{switch(o.value){case"friend-list":return t.friendsList;case"pending-requests":return t.pendingRequests;case"active-users":return t.allUsers}});return(a,d)=>(c(),u("article",null,[s("div",Ao,[s("ul",null,[s("li",{onClick:d[0]||(d[0]=l=>i("friend-list")),class:T({"is-active":o.value==="friend-list"})},jo,2),s("li",{onClick:d[1]||(d[1]=l=>i("pending-requests")),class:T({"is-active":o.value==="pending-requests"})},Ho,2),s("li",{onClick:d[2]||(d[2]=l=>i("active-users")),class:T({"is-active":o.value==="active-users"})},Ko,2)])]),(c(!0),u(P,null,j(r(n),(l,$)=>(c(),E(Do,{key:l,list:l,index:$,currentTab:o.value},null,8,["list","index","currentTab"]))),128))]))}});const ns=e=>(x("data-v-7face7e0"),e=e(),N(),e),zo={class:"columns is-mobile"},Wo={class:"column is-four-fifths is-offset-1"},Zo=w("User Profile"),Qo=ns(()=>s("p",{class:"edit"},[s("strong",null,"Edit User")],-1)),Xo={class:"field"},sn={class:"control has-icons-left"},en=ns(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-user-pen"})],-1)),tn={key:0,class:"help is-danger"},on={class:"field"},nn={class:"control has-icons-left"},an=ns(()=>s("span",{class:"icon is-small is-left"},[s("i",{class:"fa-solid fa-user-pen"})],-1)),ln={key:0,class:"help is-danger"},rn=v({setup(e){const t=H(),o=y(!1),i=M({value:"",isValid:!0}),n=M({value:"",isValid:!0});q(()=>i.value,()=>{i.isValid=i.value!==""}),q(()=>n.value,()=>{n.isValid=n.value!==""});function a(){o.value=i.value!==""&&n.value!==""}function d(){if(console.log("Im in edit"),a(),o.value===!1){i.isValid=!1,n.isValid=!1;return}const $={firstName:i.value,lastName:n.value};t.editUser($).then(()=>{console.log("Im inside the .then"),F.push("/home")}).catch(h=>{console.log("Im inside the .catch"),console.log(h)})}function l(){console.log("Im in cancel"),F.push("/home")}return($,h)=>{const _=B("Card");return c(),u("div",zo,[s("div",Wo,[m(ts,null,{default:b(()=>[Zo]),_:1}),m(_,null,{default:b(()=>[Qo,s("div",Xo,[s("p",sn,[I(s("input",{class:T(["input",r(i).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Firstname","onUpdate:modelValue":h[0]||(h[0]=p=>r(i).value=p)},null,2),[[V,r(i).value]]),en,r(i).isValid?g("",!0):(c(),u("p",tn," First name field cannot be empty "))])]),s("div",on,[s("p",nn,[I(s("input",{class:T(["input",r(n).isValid?"is-info":"is-danger"]),type:"text",placeholder:"Lastname","onUpdate:modelValue":h[1]||(h[1]=p=>r(n).value=p)},null,2),[[V,r(n).value]]),an,r(n).isValid?g("",!0):(c(),u("p",ln," Last name field cannot be empty "))])]),s("div",{class:"field"},[s("p",{class:"control"},[s("button",{class:"button is-success",onClick:d},"Edit"),s("button",{class:"button is-success space",onClick:l}," Cancel ")])])]),_:1})])])}}});var cn=S(rn,[["__scopeId","data-v-7face7e0"]]);const dn=[{path:"/",component:Pe},{path:"/home",component:te},{path:"/signup",component:Ct},{path:"/todo",component:Wt},{path:"/budget",component:wo},{path:"/friendslist",component:Go},{path:"/edit-user",component:cn}],F=ks({history:Is(),routes:dn,linkActiveClass:"is-active"});F.beforeEach((e,t)=>{const o=["/home","/todo","/budget","/friendslist","/edit-user"],i=L();if(o.includes(e.path)&&!i.$state.session.user)return"/"});const L=G("login",{state:()=>({isLoggedIn:!1,session:{user:null}}),actions:{async Login(e,t){const o=await this.api("users/login",{username:e,password:t},"POST");if(console.log("This is the response before we check if its ok",o),o.message){console.log("Im not ok");const n=o;throw this.session.user=null,console.log("this is the error",n),n}console.log("This is right after the response is not ok and we swet loggin to true heres the data",o),this.session.user=o,this.isLoggedIn=!0;const i=cs();i.createBudget(),i.addItem("",0)},async Logout(){this.session.user=null,this.isLoggedIn=!1,F.push("/")},async api(e,t,o,i={}){var n,a;((n=this.session.user)==null?void 0:n.token)&&(i.Authorization=`Bearer ${this.session.user.token}`);try{const d=await X(e,t,o,i);if((a=d.errors)==null?void 0:a.length)throw console.log("Im throwing the errors down"),{message:d.errors.join(", ")};return await d.data}catch(d){return console.log("Im catching those errors i threw here ",d),d}}}});const un=e=>(x("data-v-225ec5a7"),e=e(),N(),e),_n={class:"media"},pn={class:"image is-220x220"},hn=["src"],fn={class:"media-content"},gn={class:"content"},mn=w("Welcome Back "),vn=un(()=>s("br",null,null,-1)),yn=v({setup(e){const o=L().session.user;if(!o)throw"User not Found";const i=y(o.username),n=y(o.pic);function a(){F.push("/edit-user")}return(d,l)=>(c(),u("article",_n,[s("figure",{class:"media-left",onClick:a},[s("a",pn,[s("img",{src:n.value},null,8,hn)])]),s("div",fn,[s("div",gn,[s("p",null,[s("strong",null,[mn,vn,w(k(i.value)+"!",1)])])])])]))}});var bn=S(yn,[["__scopeId","data-v-225ec5a7"]]);const O=e=>(x("data-v-222552b5"),e=e(),N(),e),$n={class:"navbar-start"},wn=O(()=>s("strong",null,"Home",-1)),Sn=O(()=>s("strong",null,"Messages",-1)),kn={key:0,class:"icon"},In=O(()=>s("i",{class:"fa-regular fa-envelope"},null,-1)),Tn=[In],Vn={key:1,class:"tag is-danger"},Un=O(()=>s("strong",null,"Friends List ",-1)),Ln={key:0,class:"icon"},xn=O(()=>s("i",{class:"fa-regular fa-bell"},null,-1)),Nn=[xn],Cn={key:1,class:"tag is-danger"},Mn=O(()=>s("strong",null,"Budget",-1)),Fn={key:0,class:"navbar-end"},qn={class:"navbar-item"},En=v({props:{display:String},setup(e){const t=J(),o=L(),i=K(()=>t.pendingRequests.length),n=K(()=>{const d=o.session.user;if(!d)throw new Error("No logged in user found");return d.recievedMessages.length});function a(){o.Logout()}return(d,l)=>(c(),u("div",{class:T(["navbar-menu",e.display]),id:"nav-links"},[s("div",$n,[m(r(R),{to:"/home",class:"navbar-item"},{default:b(()=>[wn]),_:1}),m(r(R),{to:"/todo",class:"navbar-item"},{default:b(()=>[Sn,r(o).isLoggedIn&&r(n)>0?(c(),u("span",kn,Tn)):g("",!0),r(o).isLoggedIn&&r(n)>0?(c(),u("span",Vn,k(r(n)),1)):g("",!0)]),_:1}),m(r(R),{to:"/friendslist",class:"navbar-item"},{default:b(()=>[Un,r(o).isLoggedIn&&r(t).pendingRequests.length>0?(c(),u("span",Ln,Nn)):g("",!0),r(o).isLoggedIn&&r(t).pendingRequests.length>0?(c(),u("span",Cn,k(r(i)),1)):g("",!0)]),_:1}),m(r(R),{to:"/budget",class:"navbar-item"},{default:b(()=>[Mn]),_:1})]),r(o).isLoggedIn?(c(),u("div",Fn,[s("div",qn,[m(bn)]),s("div",{class:"navbar-item"},[s("div",{class:"buttons"},[s("a",{class:"button is-primary",onClick:a},"Logout")])])])):g("",!0)],2))}});var Pn=S(En,[["__scopeId","data-v-222552b5"]]);const Rn={},On={class:"navbar-burger"},Dn=s("span",null,null,-1),An=s("span",null,null,-1),Bn=s("span",null,null,-1),jn=[Dn,An,Bn];function Jn(e,t){return c(),u("a",On,jn)}var Hn=S(Rn,[["render",Jn]]);const Yn=e=>(x("data-v-d0dfedc6"),e=e(),N(),e),Kn={class:"navbar is-light"},Gn={class:"navbar-brand"},zn=Yn(()=>s("a",{class:"navbar-item"},[s("img",{src:Rs,alt:"image of happy person",style:{"max-height":"80px"},width:"100"})],-1)),Wn=v({setup(e){const t=y(!1),o=y("");y(!1);function i(){t.value=!t.value,t.value?o.value="is-active":o.value="none"}return(n,a)=>(c(),u("nav",Kn,[s("div",Gn,[zn,m(Hn,{onClick:i})]),m(Pn,{clicked:t.value,display:o.value},null,8,["clicked","display"])]))}});var Zn=S(Wn,[["__scopeId","data-v-d0dfedc6"]]);const Qn=v({setup(e){return(t,o)=>{const i=B("HeaderNavbar"),n=B("router-view");return c(),u(P,null,[m(i),m(n,null,{default:b(({Component:a})=>[m(Ts,{mode:"out-in","enter-active-class":"animate__animated animate__fadeIn animate__faster","leave-active-class":"animate__animated animate__fadeOut animate__faster"},{default:b(()=>[(c(),E(Vs(a)))]),_:2},1024)]),_:1})],64)}}}),D=Us(Qn);D.component("Footer",Ps);D.component("HeaderNavbar",Zn);D.component("Card",ss);D.use(F);D.use(Ls());D.mount("#app");
